<p-table
  styleClass="p-datatable-sm"
  columnResizeMode="expand"
  [columns]="headers"
  [value]="data"
  [lazy]="lazy"
  [paginator]="paginator"
  [rows]="rows"
  [rowsPerPageOptions]="rowsPerPageOptions"
  [totalRecords]="totalRecords"
  [loading]="loading"
  [scrollable]="scrollable"
  [style]="style"
  [lazyLoadOnInit]="lazyLoadOnInit"
  [showCurrentPageReport]="showCurrentPageReport"
  [resizableColumns]="resizableColumns"
  [reorderableColumns]="reorderableColumns"
  [rowHover]="rowHover"
  [currentPageReportTemplate]="currentPageReportTemplate"
  [(selection)]="selection"
  [scrollHeight]="'flex'"
  [(filters)]="filters"
  (onLazyLoad)="onLazyLoad.emit($event)"
  (onRowSelect)="onRowSelect.emit($event)"
  (onRowUnselect)="onRowUnselect.emit($event)"
  (onColResize)="onColResize.emit($event)"
  (onColReorder)="onColReorder.emit($event)"
  #dt
  frozenWidth="50px"
>
  <!-- [virtualScroll]="true"
  [virtualRowHeight]="34" -->
  <ng-template pTemplate="frozenheader">
    <tr>
      <th>ЖОПА</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="frozenbody" let-rowData>
    <tr>
      <td>
        <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="colgroup" let-columns>
    <colgroup>
      <!-- <col style="width: 50px"/> -->
      <ng-container *ngFor="let col of headers">
        <col
          [style]="{
            width: '200px',
            overflow: 'hidden',
            textOverflow: 'ellipsis',
            whiteSpace: 'pre'
          }"
        />
      </ng-container>
    </colgroup>
  </ng-template>
  <ng-template pTemplate="header" let-columns>
    <tr (click)="filterIsShowed = !filterIsShowed">
      <!-- <th style="width: 3rem"><span>ЖОПА</span></th> -->
      <th *ngFor="let header of columns">
        <span class="text-wrapping">{{ header.title }}</span>
      </th>
    </tr>
    <tr *ngIf="filterIsShowed">
      <th *ngFor="let header of columns">
        <input type="text" />
      </th>
    </tr>
  </ng-template>
  <ng-template
    pTemplate="body"
    let-rowData
    let-columns="columns"
    let-index="rowIndex"
  >
    <tr [pSelectableRow]="rowData" [pReorderableRow]="index">
      <!-- <td style="width: 3rem">
        <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
      </td> -->
      <td
        *ngFor="let col of columns"
        [title]="rowData[col.property] | stringFormatter"
      >
        <al-object-formatter
          [col]="col"
          [value]="rowData[col.property]"
          [constants]="constants"
        ></al-object-formatter>
      </td>
    </tr>
  </ng-template>
</p-table>

<!-- <ng-template pTemplate="caption">
  <div class="p-d-flex">
    <button
      type="button"
      pButton
      pRipple
      icon="pi pi-file-o"
      (click)="dt.exportCSV()"
      class="p-mr-2"
      pTooltip="CSV"
      tooltipPosition="bottom"
    ></button>
    <button
      type="button"
      pButton
      pRipple
      icon="pi pi-file-excel"
      (click)="exportExcel()"
      class="p-button-success p-mr-2"
      pTooltip="XLS"
      tooltipPosition="bottom"
    ></button>
    <button
      type="button"
      pButton
      pRipple
      icon="pi pi-file-pdf"
      (click)="exportPdf()"
      class="p-button-warning p-mr-2"
      pTooltip="PDF"
      tooltipPosition="bottom"
    ></button>
    <button
      type="button"
      pButton
      pRipple
      icon="pi pi-filter"
      (click)="dt.exportCSV({ selectionOnly: true })"
      class="p-button-info p-ml-auto"
      pTooltip="Selection Only"
      tooltipPosition="bottom"
    ></button>
  </div>
</ng-template> -->
